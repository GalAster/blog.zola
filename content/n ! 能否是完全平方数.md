+++
title = "n! 能否是完全平方数"
date = 2020-03-06
[taxonomies]
+++

<p><a href="href=\"https://www.zhihu.com/question/322658245\"">https://www.zhihu.com/question/322658245</a></p><p>n ! 能否是完全平方数</p><p>根据Bertrand's postulate（虽然叫postulate但是实际上是一个已经证明的定理），对任意大于2的正整数n，n/2和n之间存在一个素数p。在n的阶乘中，素因子p一定仅出现1次。因此n的阶乘不是完全平方数。</br>对于<span class="math">$p^m\ ||\ n!$</span> （<span class="math">$p^{m}\ |\ n!$</span> 且<span class="math">$p^{m+1}\ \not\mid\ n!$</span> ），有如下公式：</p><p><span class="math">$m=pot_p(n!)=\sum_{k=1}^{\infty}{\left[ \frac{n}{p^k}\right]}$</span> </p><p>实际上我们只要证明：不超过<span class="math">$n>1$</span> ，但离<span class="math">$n$</span> 最近的质数，其最大指数一定是<span class="math">$1$</span> ，即需证</p><p><span class="math">$\sum_{k=1}^{\infty}{\left[ \frac{n}{p^k}\right]}=1$</span> </p><p>即证</p><p><span class="math">$\left[ \frac{n}{p^k} \right]=\begin{cases}  1&k=1\\  0&  k>1 \end{cases}$</span> </p><p><span class="math">$\Leftrightarrow$</span> </p><p><span class="math">$1=\frac{p}{p}\leq \frac{n}{p}< \frac{2p}{p}=2$</span> </p><p><span class="math">$\Leftrightarrow$</span> </p><p><span class="math">$p\leq n< 2p$</span> </p><p><b>证明</b>：分两种情况：</p><p>若<span class="math">$n \in \mathbb{P}$</span> ，则命题显然；</p><p>若<span class="math">$n \ \bar \in \ \mathbb{P}$</span> ，命<span class="math">$p=\max\left\{ q\in \mathbb{P}\ \ |\ \ q<n \right\}$</span> </p><p>现在只需证明<span class="math">$n<2p$</span> 即可。若不然，则<span class="math">$\exists \ p^*$</span> 满足</p><p><span class="math">$p<p^*<2p\leq n$</span> </p><p>成立原因是伯特兰假设。如此一来，<span class="math">$p^*$</span> 的出现与<span class="math">$p$</span> 的极大性相矛盾. 所以大于1的阶乘皆非完全平方数.</p><p><span class="math">$Q. E. D$</span> </p><p>Handler[hr, {}, {}]</p><p>下面我列出 20 以内阶乘的质因数分解式（除 1 外）：</p><p><span class="math">$2!=2$</span> </p><p><span class="math">$3!=2\cdot 3$</span> </p><p><span class="math">$4!=2^3\cdot3$</span> </p><p><span class="math">$5!=2^3\cdot3\cdot5$</span> </p><p><span class="math">$6!=2^4\cdot3^2\cdot5$</span> </p><p><span class="math">$7!=2^4\cdot3^2\cdot5\cdot7$</span> </p><p><span class="math">$8!=2^7\cdot3^2\cdot5\cdot7$</span> </p><p><span class="math">$9!=2^7\cdot3^4\cdot5\cdot7$</span> </p><p><span class="math">$10!=2^8\cdot3^4\cdot5^2\cdot7$</span> </p><p><span class="math">$11!=2^8\cdot3^4\cdot5^2\cdot7\cdot11$</span> </p><p><span class="math">$12!=2^{10}\cdot3^5\cdot5^2\cdot7\cdot11$</span> </p><p><span class="math">$13!=2^{10}\cdot3^5\cdot5^2\cdot7\cdot11\cdot13$</span> </p><p><span class="math">$14!=2^{11}\cdot3^5\cdot5^2\cdot7^2\cdot11\cdot13$</span> </p><p><span class="math">$15!=2^{11}\cdot3^6\cdot5^3\cdot7^2\cdot11\cdot13$</span> </p><p><span class="math">$16!=2^{15}\cdot3^6\cdot5^3\cdot7^2\cdot11\cdot13$</span> </p><p><span class="math">$17!=2^{15}\cdot3^6\cdot5^3\cdot7^2\cdot11\cdot13\cdot17$</span> </p><p><span class="math">$18!=2^{16}\cdot3^8\cdot5^3\cdot7^2\cdot11\cdot13\cdot17$</span> </p><p><span class="math">$19!=2^{16}\cdot3^8\cdot5^3\cdot7^2\cdot11\cdot13\cdot17\cdot19$</span> </p><p><span class="math">$20!=2^{18}\cdot3^8\cdot5^4\cdot7^2\cdot11\cdot13\cdot17\cdot19$</span> </p><p>容易发现分解式中的最后一个质数的指数总是 1，更进一步，只要满足<span class="math">$p\leq n<2p$</span> 的质数，其指数也总是 1.</p>
